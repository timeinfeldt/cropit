<!DOCTYPE html>
<html>

  <head>
    <title>cropit | a "customizable crop and zoom" jQuery plugin</title>
    <meta name="description" content="A &quot;customizable crop and zoom&quot; jQuery plugin.">
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Lato:300,300i,400,400i,700">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/tomorrow.min.css">
    <link rel="stylesheet" href="styles/index.css">
  </head>

  <body>
    
    
    <div class="splash">
  <div class="title-wrapper">
    <h1 class="title">cropit</h1>
    <div class="tagline">a "customizable crop and zoom" jQuery plugin</div>
    <div class="github-link"><a href="https://github.com/scottcheng/cropit"><span class="icon icon-github2"></span>GitHub</a></div>
  </div>
  <div class="demo-wrapper">
    <div class="preview-wrapper">
      <div class="cropit-preview cropit-image-loading" style="position: relative; width: 530px; height: 260px;">
        <div class="cropit-preview-background-container" style="position: absolute; z-index: 0; top: 0px; right: 0px; bottom: 0px; left: 0px;"><img class="cropit-preview-background" alt="" style="position: relative; left: 0px; top: 0px; transform-origin: left top 0px; will-change: transform;"></div>
        <div class="spinner">
          <div class="spinner-dot"></div>
          <div class="spinner-dot"></div>
          <div class="spinner-dot"></div>
        </div>
        <div class="error-msg"></div>
        <div class="cropit-preview-image-container" style="position: absolute; overflow: hidden; left: 0px; top: 0px; width: 100%; height: 100%;"><img class="cropit-preview-image" alt="" style="transform-origin: left top 0px; will-change: transform;"></div>
      </div>
      <div class="controls-wrapper">
        <div class="rotation-btns"><span class="icon icon-rotate-left rotate-ccw-btn"></span><span class="icon icon-rotate-right rotate-cw-btn"></span></div>
        <div class="slider-wrapper"><span class="icon icon-image small-image"></span>
          <input type="range" class="cropit-image-zoom-input custom" min="0" max="1" step="0.01"><span class="icon icon-image large-image"></span></div>
      </div>
    </div>
  </div>
  <div class="btns-wrapper">
    <div class="btns">
      <input type="file" class="cropit-image-input custom" accept="image/*">
      <div class="btn select-image-btn"><span class="icon icon-image"></span>Select new image</div>
      <div class="btn download-btn"><span class="icon icon-box-add"></span>Download cropped image</div>
      <a id="btn-download-img" download="YourFileName.jpg" href="javascript:" onClick="downloadImage()" class="btn"><span class="icon icon-box-add"></span>Download cropped image (new)</a>
    </div>
  </div>
</div>

    <canvas id="c"></canvas>
    
    <script src="scripts/vendor.js"></script>
<script src="scripts/index.js"></script>
    <script src="https://cdn.rawgit.com/eligrey/FileSaver.js/dffa3a49/FileSaver.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
    
    <script>
     
      
      
      function downloadImage() {
        
        
        
        var imgData = $(".splash").cropit('export');
        
        
        
        var canvas = document.getElementById("c");
        canvas.width = $(".splash").cropit('previewSize').width;
        canvas.height = $(".splash").cropit('previewSize').height;
var ctx = canvas.getContext("2d");

var image = new Image();
    image.src = imgData;
image.onload = function() {
    ctx.drawImage(image, 0, 0);
          document.getElementById('btn-download-img').href = canvas.toDataURL('image/png');

};
        

      }
    </script>

    </body>
</html>
